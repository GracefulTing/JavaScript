<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		.first{
			margin-left:25px;
			width:248px;
			min-height:400px;
			border:1px solid #ccc;
			float:left;
			overflow: hidden;
			display: inline-block;
			margin-right:10px;
		}
		#pic{
			width:100%;
			height:100%;
		}
		.detail{
			width:248px;
			height:30px;
			/*border:1px solid;*/
		}
		.name{
			height:50px;
			margin-top:10px;
			font-size:15px;
			/*border:1px solid;*/
		}
		.bot{
			height:20px;
			margin-top:10px;
			/*border:1px solid;*/
		}
		.pri{
			float:left;
			color:red;
			margin-left:10px;
		}
		.num{
			float:right;
			margin-right:10px;
			color:#ccc;
		}
		#wrap{

			width:1150px;
			border:1px solid;
			margin:0 auto;
			overflow: hidden;
		}
		#pages{
			width:1150px;
			height:30px;
			margin:20px auto;
			/*border:1px solid;*/
			text-align: center;
		}
		button{
			width:30px;
			height:30px;
			text-align: center;
			margin-left:10px;
		}
	</style>	
</head>
<body>
	
	<div id="wrap">
	<!-- 
		<div class="first">
			<img src="img/qun.png" alt="" id="pic">
			<div class="detail">
				<span class="pri">fdafd</span>
				<span class="num">dafd</span>
			</div>
			<div class="name"></div>
			<div class="bot">
				<span class="com"></span>
				<span class="addr"></span>
			</div>
		</div>-->
	</div>  
	<div id="pages">
		<!-- <button>1</button>
		<button>2</button>
		<button>3</button>
		<button>4</button> -->
	</div>  
	
	<script>
		var wrap = document.getElementById('wrap');

		var data = '[{"img":"img/qun.png","price":"¥79.00","num":"1人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","compony":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"2人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","compony":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"3人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","compony":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"4人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","compony":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"5人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","compony":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"6人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","compony":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"7人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","compony":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"8人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","compony":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"9人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","compony":"galay店","address":"浙江"}]';

		//解析JSON数据
		var arr = JSON.parse(data);
		//for(var i=0;i<arr.length;i++){
		//	var val = arr[i];
		//	create(val);
		//}

		//随机函数
		function rand(){
			return parseInt(Math.random()*(arr.length)+1);
		}
		var ran = rand();

		//每页创建几个
		for(var i=0;i<ran;i++){
			create(arr[i]);
		}

		//计算页数
		function count(m,n){
			var result = m/n;
			return Math.ceil(result);
		}
		var re = count(arr.length,ran);

		//添加按钮并添加点击事件
		for(var i=0;i<re;i++){
			var btn = createEle("button",pages);
			btn.innerHTML = i+1;
			btn.className = "btn";
            btn.onclick=function(){
				wrap.innerHTML = '';
            	var curIndex=parseInt(this.innerHTML);
            	var begin=(curIndex-1)*ran;
	            var end = 0;
	            if(curIndex-1 == re-1){
	            	end = arr.length;
	            }else{
	            	end = curIndex*ran;
	            }
	            for(var j=begin;j<end;j++){
	            	create(arr[j]);
	            }
            }
		}


		//创建元素的函数
		function create(obj){
			var div = createEle("div",wrap);
			div.className = 'first';

			var img = createEle("img",div);
			img.id = "pic";
			img.src = obj.img;

			var detail = createEle("div",div);
			detail.className = 'detail';
			var price = createEle("span",detail);
			price.className="pri";
			price.innerHTML = obj.price;
			var num = createEle("span",detail);
			num.className="num";
			num.innerHTML = obj.num;

			var name = createEle('div',div);
			name.className = 'name';
			name.innerHTML = obj.name;

			var bot = createEle("div",div);
			bot.className = 'bot';

			var com = createEle("span",bot);
			com.className = 'name';
			com.innerHTML = obj.compony;

			var addr = createEle("div",bot);
			addr.className = 'num';
			addr.innerHTML = obj.address;
		}

		//创建的通用函数
		function createEle(name,parent){
			var n = document.createElement(name);
			parent.appendChild(n);
			return n;
		}

	</script>
</body>
</html>