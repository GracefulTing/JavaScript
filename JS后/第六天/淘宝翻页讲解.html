<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>淘宝翻页</title>
	<style>
		.first{
			margin-left:25px;
			width:248px;
			min-height:400px;
			border:1px solid #ccc;
			float:left;
			overflow: hidden;
			display: inline-block;
			margin-right:10px;
		}
		#pic{
			width:100%;
			height:100%;
		}
		.detail{
			width:248px;
			height:30px;
			/*border:1px solid;*/
		}
		.name{
			height:50px;
			margin-top:10px;
			font-size:15px;
			/*border:1px solid;*/
		}
		.bot{
			height:20px;
			margin-top:10px;
			/*border:1px solid;*/
		}
		.pri{
			float:left;
			color:red;
			margin-left:10px;
		}
		.num{
			float:right;
			margin-right:10px;
			color:#ccc;
		}
		#con{
			width:1150px;
			border:1px solid;
			margin:0 auto;
			overflow: hidden;
		}
		#pages{
			width:1150px;
			height:30px;
			margin:20px auto;
			/*border:1px solid;*/
			text-align: center;
		}
		button{
			width:30px;
			height:30px;
			text-align: center;
			margin-left:10px;
		}
	</style>
</head>
<body>
	<div id="wrap">
		<!-- con:一块一块的商品信息 -->
		<div id="con">
			<!-- first:每一块的信息 -->
			<!-- <div class="first">
				<img src="img/qun.png" alt="" id="pic">
				<div class="detail">
					<span class="pri">100.00</span>
					<span class="num">1</span>
				</div>
				<div class="name"></div>
				<div class="bot">
					<span class="com"></span>
					<span class="addr"></span>
				</div>
			</div> -->
		</div>
		<!-- pages:按钮信息 -->
		<div id="pages">
			
		</div>
	</div>
	<script>

		//获得数据
		var data = '[{"img":"img/qun.png","price":"¥79.00","num":"1人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","company":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"2人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","company":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"3人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","company":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"4人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","company":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"5人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","company":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"6人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","company":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"7人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","company":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"8人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","company":"galay店","address":"浙江"},{"img":"img/qun.png","price":"¥79.00","num":"9人付款","name":"秋冬打底连衣裙秋装2017新款长袖收腰显瘦冬季可爱女装蓬蓬裙裙子","company":"galay店","address":"浙江"}]';

		//把数据解析为数组
		var arr = JSON.parse(data);
		
		page(9,4,arr);
		//做分页处理
		function page(allNum,perNum,array){
			//1.一共多少页
			var count = Math.ceil(allNum/perNum);
			//2.创建按钮
			var con = document.getElementById('con');
			var pages = document.getElementById('pages');
			for(var i = 0;i < count; i++){
				createBtn(i,perNum,array,count);
			}
		}

		//创建按钮
		function createBtn(i,perNum,array,page){
			var btn = createEle("button",pages);
			btn.innerHTML = i + 1;
			btn.onclick = function(){
				// console.log(this.innerHTML);
				//点击添加对应按钮的数据到页面
				click(this.innerHTML,perNum,array);
			}
		}

		click(1,4,arr);
		//点击函数
		function click(value,perNum,array){
			con.innerHTML = '';
			var curNum = Number(value);
			var begin = (curNum - 1) * perNum;
			var end = curNum * perNum;
			// if(curNum-1 == page-1){
			// 	end = array.length;
			// }else{
			// 	end = curNum * perNum;
			// }
			if(end > array.length){
				end = array.length;
			}
			for(var i = begin; i < end; i++){
				//创建页面
				createTag(i,array);
			}
		}

		//创建标签
		function  createTag(i,array){
			var div = createEle("div",con);
			div.className = 'first';

			var img = createEle("img",div);
			img.id = "pic";
			var obj = array[i];
			img.src = obj.img;

			var detail = createEle("div",div);
			detail.className = 'detail';
			var price = createEle("span",detail);
			price.className = 'pri';
			price.innerHTML = obj.price;
			var num = createEle("span",detail);
			num.className = 'num';
			num.innerHTML = obj.num;

			var name = createEle("div",div);
			name.className = 'name';
			name.innerHTML = obj.name;

			var bot = createEle("div",div);
			bot.className = 'detail';
			var com = createEle("span",bot);
			com.className = 'pri';
			com.innerHTML = obj.company;
			var addr = createEle("span",bot);
			addr.className = 'num';
			addr.innerHTML = obj.address;
		}

		//创建元素的函数
		function createEle(name,parent){
			var n = document.createElement(name);
			parent.appendChild(n);
			return n;
		}
	</script>
</body>
</html>