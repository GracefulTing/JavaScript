<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>小球碰撞</title>
	<style>
		#kuang{
			width:700px;
			height:400px;
			border:1px solid;
			margin:0 auto;
			position: relative;
		}
		#square{
			width:50px;
			height:50px;
			background: blue;
			border:1px solid;
			position: absolute;
			left:0;
			top:0;
		}
	</style>
</head>
<body>
	<div id="kuang">
		<div id="square"></div>
	</div>
	<script>
		// clientWidth:对象可见的宽度,不包括滚动条等边线,会随窗口的显示大小改变.不含边线.
		// offsetWidth:对象可见的宽度,包括滚动条等边线,会随窗口的显示大小改变.包含边线.
		// offsetLeft:获取对象相对于版面或父坐标计算左侧的位置.
		// offsetTop:获取对象相对于版面或父坐标计算顶端的位置.
		var kuang=document.getElementById('kuang');
		var square=document.getElementById('square');

		var speed_x=3;
		var speed_y=3;

		setInterval(function(){
			var curpos_x=square.offsetLeft;
			var curpos_y=square.offsetTop;
			
			if(curpos_x<0||curpos_x>kuang.clientWidth-square.offsetWidth){
				speed_x=-speed_x;
			}

			if(curpos_y<0||curpos_y>kuang.clientHeight-square.offsetHeight){
				speed_y=-speed_y;
			}

			curpos_x+=speed_x;
			curpos_y+=speed_y;

			square.style.left=curpos_x+"px";
			square.style.top=curpos_y+"px";
		},20);

	</script>
</body>
</html>