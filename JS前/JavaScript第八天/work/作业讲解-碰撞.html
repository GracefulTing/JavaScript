<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>碰撞反弹</title>
	<style>
		*{
			margin:0;
			padding: 0;
		}
		#mod{
			position: relative;
			width:500px;
			height:300px;
			margin:50px auto 0;
			border:2px solid #ccc;
		}
		#box{
			position: absolute;
			width:50px;
			height:50px;
			background: red;
			left:0;
			top:0;
		}
	</style>
</head>
<body>
	<div id="mod">
		<div id="box"></div>
	</div>
	<script>
		var mod=document.getElementById('mod');
		var box=document.getElementById('box');

		// console.log(mod.clientWidth);
		// console.log(box.offsetWidth);
		// console.log(mod.offsetWidth);
		//clientWidth指的是元素不带边框的宽度.
		//clientHeight指的是元素不带边框的高度.
		//offsetWidth指的是元素包含了边框的宽度.
		//offsetHeight指的是元素包含了边框的高度.

		//最大运动宽度
		var maxWidth=mod.clientWidth-box.clientWidth;
		//最大运动高度
		var maxHeight=mod.clientHeight-box.clientHeight;

		var speedY=5;
		var speedX=2;

		//初始位置
		var thetop=0;
		var theleft=0;

		var timer=null;

		time();
		//定时器
		function time(){
			timer=setInterval(function(){
				move();
			},30)
		}

		//执行运动
		function move(){
			thetop+=speedY;
			theleft+=speedX;

			if(thetop>=maxHeight){     //判断碰撞底边
				speedY*=-1;
			}
			else if(thetop<=0){     //碰撞上边
				speedY*=-1
			}
			if(theleft>=maxWidth){     //判断碰撞右边
				speedX*=-1;
			}
			else if(theleft<=0){         //碰撞左边
				speedX*=-1;
			}

			box.style.top=thetop+'px';
			box.style.left=theleft+'px';
		}
	</script>
</body>
</html>