<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>导航滚动定时器版</title>
	<style>
		*{
			margin:0;
			padding: 0;
		}
		.nav{
			position: relative;
			width:400px;
			margin:50px auto 0;
		}
		.nav ul{
			list-style: none;
			position: relative;
			overflow: hidden;
		}
		.nav ul li{
			float:left;
		}
		.nav ul li a{
			display: block;
			width:80px;
			font-size:16px;
			color: black;
			text-decoration:none;
			text-align: center;
		}
		#slider{
			position: absolute;
			top:20px;
			width:80px;
			height:2px;
			background:red;
		}
	</style>
</head>
<body>
	<div class="nav">
		<ul>
			<li><a href="">按钮1</a></li>
			<li><a href="">按钮2</a></li>
			<li><a href="">按钮3</a></li>
			<li><a href="">按钮4</a></li>
			<li><a href="">按钮5</a></li>
		</ul>
		<div id="slider"></div>
	</div>
	<script src="tween.js"></script>
	<script>
		nav();
		function nav(){
			var navList=document.getElementsByTagName('a');
			var slider=document.getElementById('slider');
			var activeIndex=0;   //滑过的a标签的索引
			var navTimer=null;

			init();

			//滚动函数
			function selected(index){
				activeIndex=index;

				var t=0;
				var b=slider.offsetLeft;
				var end=activeIndex*slider.offsetWidth;
				var c=end-b;
				var d=10; 
				clearInterval(navTimer);
				navTimer=setInterval(function(){
					if(c<0){
						b-=5;
						if(b<=end){
							clearInterval(navTimer);
							navTimer=null;
						}
					}
					else{
						b+=5;
						if(b>=end){
							clearInterval(navTimer);
							navTimer=null;
						}
					}
					slider.style.left=Tween.Linear(t,b,c,d)+"px";
				},30) 

			}
			

			//事件绑定
			function bind(){
				for(var i=0;i<navList.length;i++){
					(function(i){
						navList[i].onmouseover=function(){
							selected(i);
						}
					})(i)
				}
			}

			//初始化
			function init(){
				bind();
			}
		}
	</script>
</body>
</html>